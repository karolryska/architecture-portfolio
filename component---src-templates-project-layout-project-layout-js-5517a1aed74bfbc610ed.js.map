{"version":3,"file":"component---src-templates-project-layout-project-layout-js-5517a1aed74bfbc610ed.js","mappings":"8NASaA,EAAUC,EAAAA,QAAAA,IAAAA,WAAH,iEAAGA,CAAH,yCAKPC,EAAYD,EAAAA,QAAAA,IAAAA,WAAH,mEAAGA,CAAH,oJAMJ,SAACE,GAAD,OAAYA,EAAMC,aAAe,EAAK,IAlBxC,IAyBHC,EAAkBJ,EAAAA,QAAAA,IAAAA,WAAH,yEAAGA,CAAH,2IAzBZ,IAqCHK,EAAQL,EAAAA,QAAAA,IAAAA,WAAH,+DAAGA,CAAH,2IASA,SAACE,GAAD,OAA2BA,EAAMC,aA3CV,IAAe,EAC/B,EAAK,KAgDjBG,EAASN,EAAAA,QAAAA,OAAAA,WAAH,gEAAGA,CAAH,gFCqCnB,EApFgB,SAAC,GAAgB,IAAdO,EAAa,EAAbA,OACf,GAA4CC,EAAAA,EAAAA,UAAS,GAA9CC,EAAP,KAAuBC,EAAvB,KACA,GAAwCF,EAAAA,EAAAA,YAAjCL,EAAP,KAAqBQ,EAArB,KACMC,GAAaC,EAAAA,EAAAA,UAMbC,EAAoB,SAACC,GACL,SAAdA,EAEML,EADa,IAAnBD,EACwBF,EAAOS,OAAS,EAChBP,EAAiB,GAEzCA,IAAmBF,EAAOS,OAAS,EAC7BN,EAAkB,GAClBA,EAAkBD,EAAiB,IAI3CQ,EAAW,kBAAMN,EAAgBC,EAAWM,QAAQC,cAS1D,OAPAC,EAAAA,EAAAA,YAAU,WAIN,OAHAR,EAAWM,SAAWD,IACtBI,OAAOC,iBAAiB,SAAUL,GAE3B,kBAAMI,OAAOE,oBAAoB,SAAUN,MACnD,IAGC,gBAAClB,EAAD,CAASyB,IAAKZ,GACV,gBAACX,EAAD,CAAWE,aAAcA,GACrB,gBAAC,EAAAsB,EAAD,CACIC,OAAOC,EAAAA,EAAAA,GAASpB,EAAOE,IACvBmB,IAAI,QACJC,MAAO,CACHC,MAAO,OACPC,OAAQ,UAGhB,gBAACzB,EAAD,CACIuB,MAAO,CACHG,IAAK,MACLC,KAAM,QACNC,UAAW,oBAEfC,QAAS,kBAAMrB,EAAkB,UACjC,uBAAKsB,ICvDzB,wfDyDgB,gBAAC9B,EAAD,CACIuB,MAAO,CACHG,IAAK,MACLK,MAAO,QACPH,UAAW,oBAEfC,QAAS,kBAAMrB,EAAkB,WACjC,uBAAKsB,IEhEzB,igBFmEY,gBAAChC,EAAD,KACKG,EAAO+B,KAAI,SAACC,EAAMC,GACf,IAAMd,GAAQC,EAAAA,EAAAA,GAASY,GACvB,OACI,gBAAClC,EAAD,CACIoC,IAAKF,EAAKG,GACVP,QAAS,WA5D7BzB,EA4D+C8B,IAC3BrC,aAAcA,GACd,gBAAC,EAAAsB,EAAD,CACIC,MAAOA,EACPE,IAAI,QACJC,MAAO,CACHC,MAAO,OACPC,OAAQ,iBG9C5C,EA5BsB,SAAC,GAAc,IAAZY,EAAW,EAAXA,KACrB,OACI,gBAACC,EAAA,EAAD,CAAaC,MAAOF,EAAKG,IAAIC,YAAYF,MAAOG,YAAaL,EAAKG,IAAIG,MAClE,gBAAC,EAAD,CAAS1C,OAAQoC,EAAKO,QAAQC","sources":["webpack://architecture-portfolio/./src/components/Gallery/Gallery.styles.js","webpack://architecture-portfolio/./src/components/Gallery/Gallery.js","webpack://architecture-portfolio/./src/assets/icons/arrow_left.svg","webpack://architecture-portfolio/./src/assets/icons/arrow_right.svg","webpack://architecture-portfolio/./src/templates/ProjectLayout/ProjectLayout.js"],"sourcesContent":["import styled from 'styled-components';\r\n\r\nconst gridGap = 10;\r\n\r\nexport const calcImageHeight = (containerWidth) => {\r\n    const imageWidth = (containerWidth - 2 * gridGap) / 3;\r\n    return (imageWidth / 3) * 2;\r\n};\r\n\r\nexport const Wrapper = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nexport const MainImage = styled.div`\r\n    display: none;\r\n\r\n    @media (min-width: 769px) {\r\n        display: block;\r\n        position: relative;\r\n        height: ${(props) => (props.wrapperWidth / 3) * 2}px;\r\n        width: 100%;\r\n        margin-bottom: ${gridGap}px;\r\n        background-color: lightgray;\r\n    }\r\n`;\r\n\r\nexport const ImagesContainer = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n\r\n    @media (min-width: 769px) {\r\n        display: grid;\r\n        grid-template-columns: 1fr 1fr 1fr;\r\n        grid-gap: ${gridGap}px;\r\n        width: 100%;\r\n    }\r\n`;\r\n\r\nexport const Image = styled.div`\r\n    width: 100%;\r\n    margin-bottom: 16px;\r\n\r\n    &:nth-last-child(1) {\r\n        margin-bottom: 0;\r\n    }\r\n\r\n    @media (min-width: 769px) {\r\n        height: ${(props) => calcImageHeight(props.wrapperWidth)}px;\r\n        width: 100%;\r\n        margin-bottom: 0;\r\n    }\r\n`;\r\n\r\nexport const Button = styled.button`\r\n    position: absolute;\r\n    background-color: transparent;\r\n    border: none;\r\n    cursor: pointer;\r\n`;\r\n","import React, { useState, useEffect, useRef } from 'react';\r\nimport { getImage } from 'gatsby-plugin-image';\r\nimport { GatsbyImage } from 'gatsby-plugin-image';\r\nimport { Wrapper, MainImage, ImagesContainer, Image, Button } from './Gallery.styles';\r\nimport arrowLeft from '../../assets/icons/arrow_left.svg';\r\nimport arrowRight from '../../assets/icons/arrow_right.svg';\r\n\r\nconst Gallery = ({ images }) => {\r\n    const [mainImageIndex, setMainImageIndex] = useState(0);\r\n    const [wrapperWidth, setWrapperWidth] = useState();\r\n    const wrapperRef = useRef();\r\n\r\n    const handleClick = (index) => {\r\n        setMainImageIndex(index);\r\n    };\r\n\r\n    const handleClickButton = (direction) => {\r\n        if (direction === 'left') {\r\n            mainImageIndex === 0\r\n                ? setMainImageIndex(images.length - 1)\r\n                : setMainImageIndex(mainImageIndex - 1);\r\n        } else {\r\n            mainImageIndex === images.length - 1\r\n                ? setMainImageIndex(0)\r\n                : setMainImageIndex(mainImageIndex + 1);\r\n        }\r\n    };\r\n\r\n    const setWidth = () => setWrapperWidth(wrapperRef.current.offsetWidth);\r\n\r\n    useEffect(() => {\r\n        wrapperRef.current && setWidth();\r\n        window.addEventListener('resize', setWidth);\r\n\r\n        return () => window.removeEventListener('resize', setWidth);\r\n    }, []);\r\n\r\n    return (\r\n        <Wrapper ref={wrapperRef}>\r\n            <MainImage wrapperWidth={wrapperWidth}>\r\n                <GatsbyImage\r\n                    image={getImage(images[mainImageIndex])}\r\n                    alt='image'\r\n                    style={{\r\n                        width: '100%',\r\n                        height: '100%',\r\n                    }}\r\n                />\r\n                <Button\r\n                    style={{\r\n                        top: '50%',\r\n                        left: '-40px',\r\n                        transform: 'translateY(-50%)',\r\n                    }}\r\n                    onClick={() => handleClickButton('left')}>\r\n                    <img src={arrowLeft} />\r\n                </Button>\r\n                <Button\r\n                    style={{\r\n                        top: '50%',\r\n                        right: '-40px',\r\n                        transform: 'translateY(-50%)',\r\n                    }}\r\n                    onClick={() => handleClickButton('right')}>\r\n                    <img src={arrowRight} />\r\n                </Button>\r\n            </MainImage>\r\n            <ImagesContainer>\r\n                {images.map((item, i) => {\r\n                    const image = getImage(item);\r\n                    return (\r\n                        <Image\r\n                            key={item.id}\r\n                            onClick={() => handleClick(i)}\r\n                            wrapperWidth={wrapperWidth}>\r\n                            <GatsbyImage\r\n                                image={image}\r\n                                alt='image'\r\n                                style={{\r\n                                    width: '100%',\r\n                                    height: '100%',\r\n                                }}\r\n                            />\r\n                        </Image>\r\n                    );\r\n                })}\r\n            </ImagesContainer>\r\n        </Wrapper>\r\n    );\r\n};\r\n\r\nexport default Gallery;\r\n","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTciIHZpZXdCb3g9IjAgMCAxOCAxNyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTYuMjkxMTkgMTYuNjc2MUwwLjcyNzUzOSA4LjY1NTM1TDYuMjkxMTkgMC42MzQ2MTNMOS42NDM0MyAyLjgxMjk2TDUuNjY4OTIgOC42NTUzNUw5LjY3Njg4IDE0LjQ5NzdMNi4yOTExOSAxNi42NzYxWk0xNC4xMDMgMTYuNjc2MUw4LjUzOTQgOC42NTUzNUwxNC4xMDMgMC42MzQ2MTNMMTcuNDU1MyAyLjgxMjk2TDEzLjQ4MDggOC42NTUzNUwxNy40NTUzIDE0LjQ5NzdMMTQuMTAzIDE2LjY3NjFaIiBmaWxsPSJibGFjayIvPgo8L3N2Zz4K\"","export default \"data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTgiIGhlaWdodD0iMTciIHZpZXdCb3g9IjAgMCAxOCAxNyIgZmlsbD0ibm9uZSIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj4KPHBhdGggZD0iTTExLjcwODggMC40ODczOTlMMTcuMjcyNSA4LjUwODEyTDExLjcwODggMTYuNTI4OEw4LjM1NjU1IDE0LjM1MDVMMTIuMzMxMSA4LjUwODEyTDguMzIzMSAyLjY2NTc0TDExLjcwODggMC40ODczOTlaTTMuODk2OTMgMC40ODczOTlMOS40NjA1OSA4LjUwODEyTDMuODk2OTMgMTYuNTI4OEwwLjU0NDY3OSAxNC4zNTA1TDQuNTE5MiA4LjUwODEyTDAuNTQ0Njc4IDIuNjY1NzRMMy44OTY5MyAwLjQ4NzM5OVoiIGZpbGw9ImJsYWNrIi8+Cjwvc3ZnPgo=\"","import React from 'react';\r\nimport { graphql } from 'gatsby';\r\n\r\nimport MainContent from '../components/Main/Main';\r\nimport Gallery from '../../components/Gallery/Gallery';\r\n\r\nconst ProjectLayout = ({ data }) => {\r\n    return (\r\n        <MainContent title={data.mdx.frontmatter.title} description={data.mdx.body}>\r\n            <Gallery images={data.allFile.nodes}></Gallery>\r\n        </MainContent>\r\n    );\r\n};\r\n\r\nexport const query = graphql`\r\n    query Title($id: String!, $dir: String) {\r\n        mdx(id: { eq: $id }) {\r\n            frontmatter {\r\n                title\r\n            }\r\n            body\r\n            slug\r\n        }\r\n        allFile(filter: { extension: { eq: \"jpg\" }, relativeDirectory: { eq: $dir } }) {\r\n            nodes {\r\n                id\r\n                childImageSharp {\r\n                    gatsbyImageData\r\n                }\r\n            }\r\n        }\r\n    }\r\n`;\r\n\r\nexport default ProjectLayout;\r\n"],"names":["Wrapper","styled","MainImage","props","wrapperWidth","ImagesContainer","Image","Button","images","useState","mainImageIndex","setMainImageIndex","setWrapperWidth","wrapperRef","useRef","handleClickButton","direction","length","setWidth","current","offsetWidth","useEffect","window","addEventListener","removeEventListener","ref","G","image","getImage","alt","style","width","height","top","left","transform","onClick","src","right","map","item","i","key","id","data","Main","title","mdx","frontmatter","description","body","allFile","nodes"],"sourceRoot":""}